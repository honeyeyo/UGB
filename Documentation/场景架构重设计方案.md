# åœºæ™¯æ¶æ„é‡è®¾è®¡æ–¹æ¡ˆ

## è®¾è®¡ç†å¿µ

### ğŸ¯ **æ ¸å¿ƒæ€è·¯**

åœ¨Startupåœºæ™¯ä¸­æ”¾ç½®Ballã€Paddleã€Tableï¼Œå®ç°ï¼š

1. **å³æ—¶æ¸¸æˆä½“éªŒ**ï¼šå¯åŠ¨åç«‹å³å¯ä»¥ç»ƒä¹ 
2. **æ— ç¼è¿‡æ¸¡**ï¼šä»å•æœºç»ƒä¹ åˆ°å¤šäººæ¸¸æˆçš„å¹³æ»‘åˆ‡æ¢
3. **åŠŸèƒ½ä¸°å¯Œ**ï¼šå•æœºæ¨¡å¼æ”¯æŒå¤šç§ç©æ³•

### ğŸ® **å•æœºç©æ³•è®¾è®¡**

- **ç»ƒä¹ å‘çƒ**ï¼šç†Ÿæ‚‰ç‰©ç†å’Œæ‰‹æ„Ÿ
- **AIæœºå™¨äººå¯¹æˆ˜**ï¼šæ™ºèƒ½å¯¹æ‰‹ç³»ç»Ÿ
- **é•œåƒè‡ªå·±å¯¹æˆ˜**ï¼šå½•åˆ¶å›æ”¾å¯¹æˆ˜
- **æŠ€èƒ½è®­ç»ƒ**ï¼šç‰¹å®šæŠ€æœ¯ç»ƒä¹ 

## åœºæ™¯æ¶æ„è®¾è®¡

### ğŸ“‹ **åœºæ™¯åŠŸèƒ½åˆ†å·¥**

| åœºæ™¯ | åŠŸèƒ½ | æ¸¸æˆå…ƒç´  | ç½‘ç»œæ¨¡å¼ |
|------|------|----------|----------|
| **Startup** | å•æœºç»ƒä¹  + Lobby | Table + Ball + Paddle | ç¦»çº¿/å•æœº |
| **Gym** | å¤šäººè”æœºæ¸¸æˆ | Table + Ball + Paddle | åœ¨çº¿/å¤šäºº |

### ğŸ”„ **ä¸¤ç§åˆ‡æ¢ç­–ç•¥**

#### ç­–ç•¥Aï¼šä¿ç•™Startupçƒæ¡Œ

```text
Startupåœºæ™¯ â”€â”€â” ä¿ç•™çƒæ¡Œ â”Œâ”€â”€â†’ åŠ è½½Gymåœºæ™¯ç½‘ç»œç»„ä»¶
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â†’ åŒæ­¥åˆ°å¤šäººé”šç‚¹
```

#### ç­–ç•¥Bï¼šé‡æ–°åˆ›å»ºçƒæ¡Œ

```text
Startupåœºæ™¯ â”€â”€â” é”€æ¯çƒæ¡Œ â”Œâ”€â”€â†’ åŠ è½½Gymåœºæ™¯
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â†’ ä½¿ç”¨Gymåœºæ™¯æ–°çƒæ¡Œ
```

### âœ… **æ¨èæ–¹æ¡ˆï¼šç­–ç•¥Bï¼ˆé‡æ–°åˆ›å»ºï¼‰**

**åŸå› **ï¼š

1. **ç½‘ç»œä¸€è‡´æ€§**ï¼šå¤šäººæ¸¸æˆä½¿ç”¨ä¸“é—¨çš„ç½‘ç»œåŒæ­¥çƒæ¡Œ
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šé¿å…å•æœºç»„ä»¶å’Œç½‘ç»œç»„ä»¶å†²çª
3. **ç»´æŠ¤ç®€å•**ï¼šæ¸…æ™°çš„åœºæ™¯èŒè´£åˆ†å·¥
4. **èµ„æºç®¡ç†**ï¼šæ¯ä¸ªåœºæ™¯ç‹¬ç«‹ç®¡ç†è‡ªå·±çš„èµ„æº

## å…·ä½“æ“ä½œæ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šStartupåœºæ™¯å‡†å¤‡

#### 1. å¤åˆ¶æ¸¸æˆå…ƒç´ åˆ°Startupåœºæ™¯

```bash
# æ“ä½œæ­¥éª¤
1. æ‰“å¼€Startup.unityåœºæ™¯
2. ä»Gymåœºæ™¯å¤åˆ¶ä»¥ä¸‹é¢„åˆ¶ä½“ï¼š
   - Tableé¢„åˆ¶ä½“ï¼ˆç§»é™¤NetworkBehaviourç»„ä»¶ï¼‰
   - Ballé¢„åˆ¶ä½“ï¼ˆç§»é™¤ç½‘ç»œç»„ä»¶ï¼‰
   - Paddleé¢„åˆ¶ä½“ï¼ˆç§»é™¤ç½‘ç»œç»„ä»¶ï¼‰
3. åœ¨Startupåœºæ™¯ä¸­åˆç†å¸ƒå±€è¿™äº›å¯¹è±¡
```

#### 2. åˆ›å»ºå•æœºç‰ˆæœ¬çš„ç»„ä»¶

#### 2.1 å•æœºTableç»„ä»¶

```csharp
// ä½ç½®ï¼šAssets/PongHub/Scripts/Gameplay/Table/
// æ–‡ä»¶ï¼šTableOffline.cs

[RequireComponent(typeof(Table))]
public class TableOffline : MonoBehaviour
{
    [Header("ç»„ä»¶å¼•ç”¨")]
    [SerializeField] private Table m_table;

    [Header("å•æœºè®¾ç½®")]
    [SerializeField] private bool m_enableAI = true;
    [SerializeField] private bool m_enableMirrorMode = true;

    // å•æœºç‰¹æœ‰åŠŸèƒ½
    public void StartPracticeMode() { }
    public void StartAIMatch() { }
    public void StartMirrorMatch() { }
}
```

#### 2.2 å•æœºBallç®¡ç†å™¨

```csharp
// ä½ç½®ï¼šAssets/PongHub/Scripts/Gameplay/Ball/
// æ–‡ä»¶ï¼šBallOfflineManager.cs

public class BallOfflineManager : MonoBehaviour
{
    [Header("å•æœºçƒç®¡ç†")]
    [SerializeField] private Ball m_ballPrefab;
    [SerializeField] private Transform m_spawnPoint;

    private Ball m_currentBall;

    public void SpawnBall() { }
    public void ResetBall() { }
    public void DestroyBall() { }
}
```

#### 2.3 AIå¯¹æ‰‹ç³»ç»Ÿ

```csharp
// ä½ç½®ï¼šAssets/PongHub/Scripts/AI/
// æ–‡ä»¶ï¼šAIPlayer.cs

public class AIPlayer : MonoBehaviour
{
    [Header("AIè®¾ç½®")]
    [SerializeField] private float m_difficulty = 0.5f;
    [SerializeField] private Paddle m_aiPaddle;

    public void UpdateAI() { }
    public void SetDifficulty(float difficulty) { }
}
```

#### 3. åœºæ™¯å±‚çº§ç»“æ„

```text
Startup Scene
â”œâ”€â”€ GameManager (å•æœºç‰ˆ)
â”œâ”€â”€ Table (TableOfflineç»„ä»¶)
â”œâ”€â”€ Player
â”‚   â”œâ”€â”€ LeftPaddle
â”‚   â””â”€â”€ RightPaddle (æˆ–AIæ§åˆ¶)
â”œâ”€â”€ Ball System
â”‚   â”œâ”€â”€ BallSpawner (å•æœºç‰ˆ)
â”‚   â””â”€â”€ Ball (å•æœºç‰ˆ)
â”œâ”€â”€ AI System
â”‚   â”œâ”€â”€ AIPlayer
â”‚   â””â”€â”€ AIController
â”œâ”€â”€ UI
â”‚   â”œâ”€â”€ Practice UI
â”‚   â”œâ”€â”€ Main Menu
â”‚   â””â”€â”€ Settings
â””â”€â”€ Audio
    â””â”€â”€ AudioManager
```

### ç¬¬äºŒé˜¶æ®µï¼šåœºæ™¯åˆ‡æ¢ç³»ç»Ÿ

#### 4. ä¿®æ”¹NavigationController

```csharp
// åœ¨NavigationController.csä¸­æ·»åŠ 
public void LoadGymForMultiplayer()
{
    // æ¸…ç†Startupåœºæ™¯çš„æ¸¸æˆå¯¹è±¡
    CleanupStartupGameObjects();

    // åŠ è½½Gymåœºæ™¯
    m_sceneLoader.LoadScene("Gym");
}

private void CleanupStartupGameObjects()
{
    // é”€æ¯æˆ–ç¦ç”¨Startupåœºæ™¯çš„æ¸¸æˆå…ƒç´ 
    var startupTable = FindObjectOfType<TableOffline>();
    if (startupTable != null)
    {
        startupTable.gameObject.SetActive(false);
    }

    // æ¸…ç†å…¶ä»–å•æœºå¯¹è±¡...
}
```

#### 5. æ›´æ–°ScenesMenu.cs

```csharp
// æ·»åŠ æ–°çš„èœå•é¡¹
[MenuItem("Scenes/Practice Mode")]
public static void LoadPracticeMode()
{
    // åŠ è½½Startupåœºæ™¯å¹¶å¯ç”¨ç»ƒä¹ æ¨¡å¼
    OpenScene("Startup");
    // è®¾ç½®ç»ƒä¹ æ¨¡å¼æ ‡å¿—
}

[MenuItem("Scenes/Multiplayer")]
public static void LoadMultiplayer()
{
    // ç›´æ¥åŠ è½½Gymåœºæ™¯è¿›å…¥å¤šäººæ¨¡å¼
    OpenScene("Gym", "Assets/TirgamesAssets/SchoolGym");
}
```

### ç¬¬ä¸‰é˜¶æ®µï¼šUIå’Œç”¨æˆ·ä½“éªŒ

#### 6. Startupåœºæ™¯UIè®¾è®¡

```text
Main Menu UI
â”œâ”€â”€ å•äººç»ƒä¹ 
â”‚   â”œâ”€â”€ å‘çƒç»ƒä¹ 
â”‚   â”œâ”€â”€ AIå¯¹æˆ˜
â”‚   â””â”€â”€ é•œåƒå¯¹æˆ˜
â”œâ”€â”€ å¤šäººæ¸¸æˆ
â”‚   â”œâ”€â”€ åˆ›å»ºæˆ¿é—´
â”‚   â”œâ”€â”€ åŠ å…¥æˆ¿é—´
â”‚   â””â”€â”€ å¿«é€ŸåŒ¹é…
â”œâ”€â”€ è®¾ç½®
â””â”€â”€ é€€å‡º
```

#### 7. åˆ›å»ºæ¨¡å¼åˆ‡æ¢ç®¡ç†å™¨

```csharp
// ä½ç½®ï¼šAssets/PongHub/Scripts/Core/
// æ–‡ä»¶ï¼šGameModeManager.cs

public enum GameMode
{
    Practice,      // å•æœºç»ƒä¹ 
    AIMatch,       // AIå¯¹æˆ˜
    MirrorMatch,   // é•œåƒå¯¹æˆ˜
    Multiplayer    // å¤šäººè”æœº
}

public class GameModeManager : Singleton<GameModeManager>
{
    public GameMode CurrentMode { get; private set; }

    public void SetMode(GameMode mode) { }
    public void SwitchToMultiplayer() { }
    public void SwitchToPractice() { }
}
```

## å®æ–½æ“ä½œæ¸…å•

### âœ… **ç¬¬ä¸€å‘¨ï¼šåŸºç¡€å‡†å¤‡**

1. **åœºæ™¯å¤åˆ¶**
   - [ ] æ‰“å¼€Startup.unity
   - [ ] ä»Gymåœºæ™¯å¤åˆ¶Tableé¢„åˆ¶ä½“
   - [ ] ä»Gymåœºæ™¯å¤åˆ¶Ballç›¸å…³é¢„åˆ¶ä½“
   - [ ] ä»Gymåœºæ™¯å¤åˆ¶Paddleç›¸å…³é¢„åˆ¶ä½“
   - [ ] åœ¨Startupåœºæ™¯ä¸­å¸ƒå±€æ¸¸æˆå…ƒç´ 

2. **ç»„ä»¶æ¸…ç†**
   - [ ] ç§»é™¤å¤åˆ¶å¯¹è±¡ä¸Šçš„NetworkBehaviourç»„ä»¶
   - [ ] ç§»é™¤æˆ–ç¦ç”¨ç½‘ç»œç›¸å…³è„šæœ¬
   - [ ] ä¿ç•™åŸºç¡€çš„Tableã€Ballã€PaddleåŠŸèƒ½

### âœ… **ç¬¬äºŒå‘¨ï¼šå•æœºåŠŸèƒ½**

1. **åˆ›å»ºå•æœºç»„ä»¶**
   - [ ] åˆ›å»ºTableOffline.cs
   - [ ] åˆ›å»ºBallOfflineManager.cs
   - [ ] åˆ›å»ºå•æœºç‰ˆçš„GameManager
   - [ ] æµ‹è¯•åŸºç¡€å•æœºåŠŸèƒ½

2. **AIç³»ç»ŸåŸºç¡€**
   - [ ] åˆ›å»ºAIPlayer.cséª¨æ¶
   - [ ] å®ç°åŸºç¡€AIç§»åŠ¨
   - [ ] æµ‹è¯•AIå¯¹æˆ˜åŸºç¡€åŠŸèƒ½

### âœ… **ç¬¬ä¸‰å‘¨ï¼šåœºæ™¯åˆ‡æ¢**

1. **åˆ‡æ¢ç³»ç»Ÿ**
   - [ ] ä¿®æ”¹NavigationController
   - [ ] æ›´æ–°ScenesMenu.cs
   - [ ] åˆ›å»ºGameModeManager
   - [ ] æµ‹è¯•åœºæ™¯åˆ‡æ¢æµç¨‹

2. **UIé›†æˆ**
   - [ ] è®¾è®¡Startupåœºæ™¯UI
   - [ ] æ·»åŠ æ¨¡å¼é€‰æ‹©ç•Œé¢
   - [ ] é›†æˆåˆ°ç°æœ‰UIç³»ç»Ÿ

### âœ… **ç¬¬å››å‘¨ï¼šä¼˜åŒ–å’Œæµ‹è¯•**

1. **æ€§èƒ½ä¼˜åŒ–**
   - [ ] èµ„æºåŠ è½½ä¼˜åŒ–
   - [ ] å†…å­˜ç®¡ç†ä¼˜åŒ–
   - [ ] åœºæ™¯åˆ‡æ¢æ€§èƒ½æµ‹è¯•

2. **åŠŸèƒ½å®Œå–„**
   - [ ] å®Œå–„AIå¯¹æˆ˜é€»è¾‘
   - [ ] å®ç°é•œåƒå¯¹æˆ˜åŠŸèƒ½
   - [ ] æ·»åŠ ç»ƒä¹ æ¨¡å¼ç»Ÿè®¡

## æ³¨æ„äº‹é¡¹

### âš ï¸ **å¼€å‘è¦ç‚¹**

1. **ç»„ä»¶å…¼å®¹æ€§**
   - ç¡®ä¿å•æœºç»„ä»¶ä¸ä¸ç½‘ç»œç»„ä»¶å†²çª
   - ä½¿ç”¨æ¥å£è®¾è®¡ä¿æŒä»£ç ä¸€è‡´æ€§

2. **èµ„æºç®¡ç†**
   - é¿å…é‡å¤åŠ è½½ç›¸åŒèµ„æº
   - åŠæ—¶æ¸…ç†ä¸ç”¨çš„æ¸¸æˆå¯¹è±¡

3. **ç”¨æˆ·ä½“éªŒ**
   - åœºæ™¯åˆ‡æ¢è¦æœ‰Loadingæç¤º
   - ä¿æŒæ“ä½œçš„è¿è´¯æ€§

4. **è°ƒè¯•ä¾¿åˆ©**
   - ä¿ç•™åŸæœ‰çš„Sceneèœå•åŠŸèƒ½
   - æ·»åŠ è°ƒè¯•æ¨¡å¼å¿«é€Ÿåˆ‡æ¢

### ğŸ¯ **é¢„æœŸæ•ˆæœ**

- **å¯åŠ¨å³ç©**ï¼šç”¨æˆ·å¯åŠ¨æ¸¸æˆåç«‹å³å¯ä»¥å¼€å§‹ç»ƒä¹ 
- **ä¸°å¯Œå•æœºå†…å®¹**ï¼šAIå¯¹æˆ˜ã€é•œåƒå¯¹æˆ˜ç­‰å¤šç§ç©æ³•
- **å¹³æ»‘å¤šäººè¿‡æ¸¡**ï¼šä»å•æœºæ— ç¼åˆ‡æ¢åˆ°å¤šäººæ¸¸æˆ
- **ä¿æŒæ€§èƒ½**ï¼šåˆç†çš„èµ„æºç®¡ç†å’Œåœºæ™¯è®¾è®¡

---

*è¿™ç§è®¾è®¡å°†å¤§å¤§æå‡ç”¨æˆ·ä½“éªŒï¼Œè®©ç©å®¶åœ¨ç­‰å¾…åŒ¹é…æˆ–æƒ³è¦ç»ƒä¹ æ—¶éƒ½æœ‰äº‹å¯åšï¼*
