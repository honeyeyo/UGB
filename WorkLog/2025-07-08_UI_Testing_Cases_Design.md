# UI 系统测试用例设计

**日期**: 2025 年 7 月 8 日
**范围**: Story-6 桌面菜单 UI 布局和交互 & Story-7 菜单 UI 系统本地化支持
**目的**: 设计完整的测试用例，供周末集中测试使用

## Story-6 测试用例: 桌面菜单 UI 布局和交互

### 测试环境

- **设备**: Meta Quest 2/3
- **场景**: Main Game Scene (包含 TableMenuSystem)
- **测试工具**: VR 控制器、距离测量工具

### 功能测试用例

#### TC-6.1: 菜单面板显示测试

**目标**: 验证菜单面板正确显示在球桌表面

| 用例 ID  | 测试步骤               | 预期结果                       | 优先级 |
| -------- | ---------------------- | ------------------------------ | ------ |
| TC-6.1.1 | 启动游戏进入主场景     | 默认不显示菜单                 | P1     |
| TC-6.1.2 | 按下 VR 控制器 Menu 键 | 主菜单面板显示在球桌表面       | P1     |
| TC-6.1.3 | 再次按下 Menu 键       | 菜单面板隐藏                   | P1     |
| TC-6.1.4 | 验证菜单面板位置       | 面板位于玩家方桌面，不遮挡视野 | P1     |

#### TC-6.2: 主菜单交互测试

**目标**: 验证主菜单各按钮的交互功能

| 用例 ID  | 测试步骤                       | 预期结果                         | 优先级 |
| -------- | ------------------------------ | -------------------------------- | ------ |
| TC-6.2.1 | 用控制器射线指向"单机模式"按钮 | 按钮高亮，提供视觉/音频/触觉反馈 | P1     |
| TC-6.2.2 | 点击"单机模式"按钮             | 切换到游戏模式选择面板           | P1     |
| TC-6.2.3 | 点击"多人模式"按钮             | 切换到多人模式选择面板           | P1     |
| TC-6.2.4 | 点击"设置"按钮                 | 切换到设置面板                   | P1     |
| TC-6.2.5 | 点击"退出"按钮                 | 显示退出确认对话框               | P2     |

#### TC-6.3: 游戏模式面板测试

**目标**: 验证游戏模式选择功能

| 用例 ID  | 测试步骤                     | 预期结果                   | 优先级 |
| -------- | ---------------------------- | -------------------------- | ------ |
| TC-6.3.1 | 在游戏模式面板选择"练习模式" | 启动单机练习模式，菜单隐藏 | P1     |
| TC-6.3.2 | 选择"AI 对战"并设置难度      | 启动 AI 对战模式           | P1     |
| TC-6.3.3 | 点击"返回主菜单"按钮         | 返回主菜单面板             | P1     |

#### TC-6.4: 设置面板测试

**目标**: 验证设置功能的交互

| 用例 ID  | 测试步骤         | 预期结果                   | 优先级 |
| -------- | ---------------- | -------------------------- | ------ |
| TC-6.4.1 | 调整音量滑块     | 音量实时变化，提供音频反馈 | P1     |
| TC-6.4.2 | 切换视觉效果开关 | 对应效果立即启用/禁用      | P2     |
| TC-6.4.3 | 修改控制器设置   | 设置立即生效               | P2     |
| TC-6.4.4 | 点击"应用"按钮   | 保存所有设置               | P1     |
| TC-6.4.5 | 点击"重置"按钮   | 恢复默认设置               | P2     |

### 交互距离测试用例

#### TC-6.5: 不同距离交互测试

**目标**: 验证不同距离下的菜单交互体验

| 距离 | 测试内容       | 成功标准                  | 数据记录                   |
| ---- | -------------- | ------------------------- | -------------------------- |
| 1.0m | 近距离精确操作 | 100%成功率，响应时间<0.2s | 成功率、响应时间、用户评分 |
| 2.5m | 中距离标准操作 | 95%成功率，响应时间<0.3s  | 成功率、响应时间、用户评分 |
| 5.0m | 远距离极限操作 | 90%成功率，响应时间<0.5s  | 成功率、响应时间、用户评分 |

### 性能测试用例

#### TC-6.6: 性能要求验证

**目标**: 确保菜单系统满足 VR 性能要求

| 测试项目   | 测试方法         | 成功标准     | 备注                |
| ---------- | ---------------- | ------------ | ------------------- |
| 帧率稳定性 | 5 分钟连续操作   | 保持 120fps+ | 使用 Unity Profiler |
| 内存占用   | 菜单开启前后对比 | 增加<50MB    | 监控系统内存        |
| 响应延迟   | 点击到反馈时间   | <20ms        | 用户体验关键指标    |

---

## Story-7 测试用例: 菜单 UI 系统本地化支持

### 测试环境

- **语言**: 中文(zh)、英文(en)
- **字体**: NotoSansSC (中文)、LiberationSans (英文)
- **测试数据**: 完整翻译表

### 本地化功能测试

#### TC-7.1: 语言切换基础功能

**目标**: 验证语言切换的基本功能

| 用例 ID  | 测试步骤            | 预期结果                           | 优先级 |
| -------- | ------------------- | ---------------------------------- | ------ |
| TC-7.1.1 | 首次启动游戏        | 自动检测系统语言，使用对应界面语言 | P1     |
| TC-7.1.2 | 进入设置 → 语言选项 | 显示可用语言列表(中文/English)     | P1     |
| TC-7.1.3 | 选择"English"       | 界面立即切换为英文                 | P1     |
| TC-7.1.4 | 选择"中文"          | 界面立即切换为中文                 | P1     |
| TC-7.1.5 | 重启游戏            | 保持用户选择的语言设置             | P1     |

#### TC-7.2: 界面元素本地化验证

**目标**: 验证所有界面元素正确本地化

| 界面区域   | 测试内容 | 中文验证                       | 英文验证                                   | 优先级 |
| ---------- | -------- | ------------------------------ | ------------------------------------------ | ------ |
| 主菜单     | 按钮文本 | "单机模式"、"多人模式"、"设置" | "Single Player"、"Multiplayer"、"Settings" | P1     |
| 游戏模式   | 模式选项 | "练习模式"、"AI 对战"          | "Practice Mode"、"AI Battle"               | P1     |
| 设置菜单   | 设置项目 | "音频设置"、"视觉设置"         | "Audio Settings"、"Visual Settings"        | P1     |
| 确认对话框 | 提示信息 | "确定退出游戏吗？"             | "Are you sure to exit the game?"           | P2     |

#### TC-7.3: 字体和布局适配测试

**目标**: 验证不同语言的字体和布局适配

| 用例 ID  | 测试步骤       | 预期结果                                   | 优先级 |
| -------- | -------------- | ------------------------------------------ | ------ |
| TC-7.3.1 | 切换到中文     | 使用 NotoSansSC 字体，中文字符正确显示     | P1     |
| TC-7.3.2 | 切换到英文     | 使用 LiberationSans 字体，英文字符正确显示 | P1     |
| TC-7.3.3 | 验证长文本处理 | 较长的翻译文本自动换行或调整布局           | P2     |
| TC-7.3.4 | 验证特殊字符   | 中文标点符号、英文特殊字符正确显示         | P2     |

#### TC-7.4: 本地化数据完整性测试

**目标**: 验证翻译数据的完整性和正确性

| 测试内容   | 验证方法         | 成功标准             | 备注                     |
| ---------- | ---------------- | -------------------- | ------------------------ |
| 翻译覆盖率 | 遍历所有界面元素 | 100%已翻译，无遗漏项 | 检查 LocalizationManager |
| 回退机制   | 删除部分翻译项   | 自动使用英文回退     | 测试容错机制             |
| 动态加载   | 运行时切换语言   | 所有文本立即更新     | 性能和稳定性测试         |

### 性能和用户体验测试

#### TC-7.5: 本地化性能测试

**目标**: 确保本地化不影响系统性能

| 测试项目     | 测试方法         | 成功标准      | 备注         |
| ------------ | ---------------- | ------------- | ------------ |
| 语言切换延迟 | 点击到切换完成   | <1 秒完成切换 | 用户体验要求 |
| 内存占用     | 本地化前后对比   | 增加<10MB     | 资源管理验证 |
| 启动时间影响 | 游戏启动时间对比 | 增加<0.5 秒   | 启动性能测试 |

#### TC-7.6: 用户体验测试

**目标**: 验证本地化的用户体验质量

| 评价项目     | 评分标准(1-5 分)         | 中文评分 | 英文评分 | 备注         |
| ------------ | ------------------------ | -------- | -------- | ------------ |
| 翻译准确性   | 5=完全准确，1=严重错误   | [待测试] | [待测试] | 语言专业性   |
| 术语一致性   | 5=完全一致，1=严重不一致 | [待测试] | [待测试] | 游戏术语统一 |
| 文化适应性   | 5=完全适应，1=文化冲突   | [待测试] | [待测试] | 本地化质量   |
| 整体用户体验 | 5=非常满意，1=非常不满意 | [待测试] | [待测试] | 综合评价     |

---

## 测试执行计划

### 时间安排

- **周六上午**: Story-6 功能测试 (TC-6.1 到 TC-6.4)
- **周六下午**: Story-6 交互距离和性能测试 (TC-6.5 到 TC-6.6)
- **周日上午**: Story-7 本地化功能测试 (TC-7.1 到 TC-7.4)
- **周日下午**: Story-7 性能和用户体验测试 (TC-7.5 到 TC-7.6)

### 测试环境准备清单

- [ ] VR 设备充电并校准
- [ ] Unity 编辑器环境配置
- [ ] 测试场景准备
- [ ] 性能监控工具配置
- [ ] 测试数据记录表格准备

### 测试数据收集

- 创建标准化的测试结果记录表
- 使用 Unity Profiler 收集性能数据
- 记录用户主观评价和建议
- 截图/录屏记录关键测试场景

### 测试完成标准

- [ ] 所有 P1 优先级用例 100%通过
- [ ] 所有 P2 优先级用例 95%以上通过
- [ ] 性能指标全部达标
- [ ] 用户体验评分 4 分以上(5 分制)
- [ ] 测试报告和建议完成

## 后续优化方向

基于测试结果，预期的优化重点：

1. **交互精度优化**: 根据距离测试结果调整射线和反馈系统
2. **性能优化**: 针对发现的性能瓶颈进行优化
3. **本地化完善**: 补充遗漏的翻译和改进翻译质量
4. **用户体验提升**: 基于用户反馈改进界面和交互设计

---

**文档创建**: 2025 年 7 月 8 日
**预计测试时间**: 2025 年 7 月 12-13 日 (周末)
**负责人**: [待指定]
