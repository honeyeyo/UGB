# Arena â†’ Gym åœºæ™¯è¿ç§»æ–¹æ¡ˆ

## ğŸ” Arena åœºæ™¯ç»“æ„åˆ†æ

### Arena åœºæ™¯ä¸­çš„å…³é”®ç»„ä»¶ï¼š

#### ğŸ® **æ ¸å¿ƒæ¸¸æˆç®¡ç†ç³»ç»Ÿ**

1. **GameManager** - æ¸¸æˆä¸»é€»è¾‘ç®¡ç†å™¨

   - ç½‘ç»œåŒæ­¥ç»„ä»¶ (NetworkObject)
   - æ¸¸æˆçŠ¶æ€ç®¡ç†
   - çƒç”Ÿæˆå™¨å¼•ç”¨
   - UI å®¹å™¨å¼•ç”¨
   - éŸ³é¢‘æ§åˆ¶

2. **ArenaLifeCycle** - ç«æŠ€åœºç”Ÿå‘½å‘¨æœŸç®¡ç†

   - åœºæ™¯å¯åŠ¨/ç»“æŸé€»è¾‘

3. **ScoreboardController** - è®¡åˆ†æ¿æ§åˆ¶å™¨
   - åˆ†æ•°æ˜¾ç¤ºå’Œç®¡ç†

#### ğŸµ **éŸ³é¢‘ç³»ç»Ÿ**

1. **MusicManager** - éŸ³ä¹ç®¡ç†å™¨

   - é¢„æ¸¸æˆ/æ¸¸æˆä¸­/æ¸¸æˆåéŸ³ä¹
   - éŸ³é¢‘æ·¡å…¥æ·¡å‡ºæ§åˆ¶
   - è¿æ¥åˆ° GameManager

2. **centerAudioSource** - ä¸­å¤®éŸ³é¢‘æº
   - æ¸¸æˆéŸ³æ•ˆæ’­æ”¾

#### ğŸ–¥ï¸ **UI ç³»ç»Ÿ**

1. **StartGame** - å¼€å§‹æ¸¸æˆ UI

   - Canvas + VR äº¤äº’ç»„ä»¶
   - PointableElement æ”¯æŒ
   - BoxCollider äº¤äº’åŒºåŸŸ

2. **Countdown** - å€’è®¡æ—¶ UI
3. **InviteFriends** - é‚€è¯·å¥½å‹ UI
   ~~4. **Canvas** - ä¸» UI ç”»å¸ƒ~~ (ä¸å­˜åœ¨å•ç‹¬çš„ Canvas ç»„ä»¶)

#### ğŸ”§ **æŠ€æœ¯ç»„ä»¶**

1. **PointableCanvasModule** - VR UI äº¤äº’æ¨¡å—
2. **NavMeshPlane** - å¯¼èˆªç½‘æ ¼
3. **LightingSetup-ApplyBefore GeneratingLight** - å…‰ç…§è®¾ç½®

#### ğŸŸï¸ **åœºæ™¯å¯¹è±¡**

1. **ScoreBoard_art** - è®¡åˆ†æ¿è‰ºæœ¯èµ„æº

## ğŸ¯ Gym åœºæ™¯å½“å‰ç»“æ„

### Gym åœºæ™¯ä¸­çš„ç°æœ‰ç»„ä»¶ï¼š

- **Light Probe Group** - å…‰ç…§æ¢é’ˆ
- **AreaLights** - åŒºåŸŸç¯å…‰é›†åˆ
- **Props** - è£…é¥°é“å…·é›†åˆ
- **Ball** - ä¹’ä¹“çƒå¯¹è±¡ï¼ˆå¸¦ VR äº¤äº’ï¼‰
- **Directional Light** - ä¸»æ–¹å‘å…‰
- **Global Volume** - åå¤„ç†ä½“ç§¯

## ğŸš€ è¿ç§»å®æ–½æ–¹æ¡ˆ

### **é˜¶æ®µ 1ï¼šåœºæ™¯å¤‡ä»½ä¸å‡†å¤‡**

```bash
# 1. å¤‡ä»½åŸå§‹åœºæ™¯
cp Assets/TirgamesAssets/SchoolGym/Gym.unity Assets/TirgamesAssets/SchoolGym/Gym_Backup.unity
cp Assets/UltimateGloveBall/Scenes/Arena.unity Assets/UltimateGloveBall/Scenes/Arena_Backup.unity

# 2. åœ¨ Gym åœºæ™¯ä¸­å·¥ä½œ
```

### **é˜¶æ®µ 2ï¼šæ ¸å¿ƒæ¸¸æˆç³»ç»Ÿç§»æ¤**

#### ğŸ“ **éœ€è¦ç§»æ¤çš„é¢„åˆ¶ä»¶å’Œè„šæœ¬ï¼š**

1. **GameManager ç³»ç»Ÿ**

   - `GameManager` GameObjectï¼ˆå®Œæ•´ç§»æ¤ï¼‰
   - å…³è”çš„ NetworkObject ç»„ä»¶
   - æ¸¸æˆçŠ¶æ€ç®¡ç†è„šæœ¬

2. **éŸ³é¢‘ç³»ç»Ÿ**

   - `MusicManager` GameObject
   - `centerAudioSource` GameObject
   - éŸ³é¢‘æ··åˆå™¨å¼•ç”¨

3. **UI ç³»ç»Ÿ**

   - `StartGame` Canvas ç³»ç»Ÿ
   - `Countdown` UI
   - `InviteFriends` UI
   - `PointableCanvasModule`

4. **è®¡åˆ†ç³»ç»Ÿ**
   - `ScoreboardController`
   - è®¡åˆ†æ¿è‰ºæœ¯èµ„æº

### **é˜¶æ®µ 3ï¼šå…·ä½“è¿ç§»æ­¥éª¤**

#### **Step 1: åˆ›å»ºæ–°çš„åœºæ™¯ç»„ç»‡ç»“æ„**

```
Gym Scene (æ–°ç»“æ„)
â”œâ”€â”€ ğŸ® Game Systems (ä» Arena ç§»æ¤)
â”‚   â”œâ”€â”€ GameManager
â”‚   â”œâ”€â”€ ArenaLifeCycle
â”‚   â”œâ”€â”€ ScoreboardController
â”‚   â””â”€â”€ Ball (å·²å­˜åœ¨ï¼Œä¿ç•™ VR äº¤äº’ç»„ä»¶)
â”‚
â”œâ”€â”€ ğŸµ Audio Systems (ä» Arena ç§»æ¤)
â”‚   â”œâ”€â”€ MusicManager
â”‚   â””â”€â”€ centerAudioSource
â”‚
â”œâ”€â”€ ğŸ–¥ï¸ UI Systems (ä» Arena ç§»æ¤)
â”‚   â”œâ”€â”€ StartGame (Canvas)
â”‚   â”œâ”€â”€ Countdown
â”‚   â”œâ”€â”€ InviteFriends
â”‚   â””â”€â”€ PointableCanvasModule
â”‚
â”œâ”€â”€ ğŸ¢ Environment (é‡æ–°ç»„ç»‡ç°æœ‰å†…å®¹)
â”‚   â”œâ”€â”€ Architecture
â”‚   â”œâ”€â”€ Gym Equipment
â”‚   â””â”€â”€ Furniture
â”‚
â”œâ”€â”€ ğŸ’¡ Lighting System (åˆå¹¶ä¸¤ä¸ªåœºæ™¯çš„å…‰ç…§)
â”‚   â”œâ”€â”€ Directional Light (ä¿ç•™ Gym çš„)
â”‚   â”œâ”€â”€ AreaLights (ä¿ç•™ Gym çš„)
â”‚   â””â”€â”€ Light Probe Group (ä¿ç•™ Gym çš„ï¼Œè¿ç§»åé‡æ–°çƒ˜ç„™)
â”‚
â”œâ”€â”€ ğŸ¨ Post Processing
â”‚   â””â”€â”€ Global Volume (ä¿ç•™ Gym çš„)
â”‚
â””â”€â”€ ğŸ“ Technical (ä» Arena ç§»æ¤)
    â”œâ”€â”€ NavMeshPlane
    â”œâ”€â”€ LightingSetup
    â””â”€â”€ ScoreBoard_art
```

#### **Step 2: ç³»ç»Ÿç»„ä»¶ç§»æ¤é¡ºåº**

1. **ç§»æ¤æ ¸å¿ƒæ¸¸æˆé€»è¾‘**

   ```
   - å¤åˆ¶ GameManager GameObject åˆ° Gym åœºæ™¯
   - å¤åˆ¶ ArenaLifeCycle GameObject
   - æ£€æŸ¥è„šæœ¬å¼•ç”¨å®Œæ•´æ€§
   ```

2. **ç§»æ¤éŸ³é¢‘ç³»ç»Ÿ**

   ```
   - å¤åˆ¶ MusicManager å’Œç›¸å…³éŸ³é¢‘ç»„ä»¶
   - ç¡®ä¿éŸ³é¢‘æ··åˆå™¨å¼•ç”¨æ­£ç¡®
   ```

3. **ç§»æ¤ UI ç³»ç»Ÿ**

   ```
   - å¤åˆ¶æ‰€æœ‰ UI Canvas å’Œäº¤äº’ç»„ä»¶
   - ç§»æ¤ PointableCanvasModule
   - éªŒè¯ VR äº¤äº’åŠŸèƒ½
   ```

4. **ç§»æ¤æŠ€æœ¯ç»„ä»¶**
   ```
   - å¤åˆ¶ NavMeshPlaneï¼ˆè°ƒæ•´å¤§å°é€‚åº”ä½“è‚²é¦†ï¼‰
   - ç§»æ¤å…‰ç…§è®¾ç½®
   ```

#### **Step 3: å¼•ç”¨å…³ç³»ä¿®å¤**

1. **GameManager å¼•ç”¨ä¿®å¤**

   ```csharp
   // éœ€è¦é‡æ–°è¿æ¥çš„å¼•ç”¨ï¼š
   - m_ballSpawner: è¿æ¥åˆ°æ–°çš„çƒç”Ÿæˆå™¨
   - m_startGameButtonContainer: è¿æ¥åˆ°ç§»æ¤çš„ StartGame UI
   - m_countdownView: è¿æ¥åˆ°ç§»æ¤çš„ Countdown
   - m_courtAudioSource: è¿æ¥åˆ° centerAudioSource
   ```

2. **éŸ³é¢‘ç®¡ç†å™¨å¼•ç”¨ä¿®å¤**
   ```csharp
   // MusicManager éœ€è¦é‡æ–°è¿æ¥ï¼š
   - m_gameManager: è¿æ¥åˆ°ç§»æ¤çš„ GameManager
   ```

#### **Step 4: åœºæ™¯ç‰¹å®šè°ƒæ•´**

1. **ç©ºé—´å°ºå¯¸è°ƒæ•´**

   - è°ƒæ•´ UI ä½ç½®é€‚åº”ä½“è‚²é¦†ç©ºé—´
   - é‡æ–°é…ç½®æ‘„åƒæœºä½ç½®
   - è°ƒæ•´ NavMesh åŒºåŸŸ

2. **å…‰ç…§èåˆ**

   - ä¿æŒ Gym çš„åŒºåŸŸå…‰ç…§è®¾ç½®
   - èåˆ Arena çš„ä¸»å…‰ç…§é…ç½®
   - é‡æ–°çƒ˜ç„™å…‰ç…§è´´å›¾

3. **æ€§èƒ½ä¼˜åŒ–**
   - ç§»é™¤ Arena ä¸­ä¸éœ€è¦çš„è§†è§‰æ•ˆæœ
   - ä¿æŒ Gym åœºæ™¯çš„ Static æ ‡è®°
   - ä¼˜åŒ–ç¢°æ’æ£€æµ‹è®¾ç½®

### **é˜¶æ®µ 4: æµ‹è¯•ä¸éªŒè¯**

#### **åŠŸèƒ½æµ‹è¯•æ¸…å•ï¼š**

- [ ] æ¸¸æˆå¼€å§‹æµç¨‹
- [ ] VR äº¤äº’åŠŸèƒ½
- [ ] éŸ³é¢‘æ’­æ”¾
- [ ] UI å“åº”
- [ ] è®¡åˆ†åŠŸèƒ½
- [ ] ç½‘ç»œåŒæ­¥ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
- [ ] åœºæ™¯æ€§èƒ½

#### **VR ä¸“é¡¹æµ‹è¯•ï¼š**

- [ ] æ‰‹åŠ¿äº¤äº’
- [ ] çƒæ‹æ§åˆ¶
- [ ] UI ç‚¹å‡»
- [ ] ç©ºé—´è¿½è¸ª
- [ ] éŸ³é¢‘ç©ºé—´åŒ–

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¿æŒæ ¸å¿ƒäº¤äº’é€»è¾‘**ï¼šGym åœºæ™¯ä¸­å·²æœ‰çš„ Ball VR äº¤äº’ç»„ä»¶éœ€è¦ä¿ç•™
2. **ç½‘ç»œåŠŸèƒ½**ï¼šå¦‚æœä½¿ç”¨å¤šäººæ¸¸æˆï¼Œç¡®ä¿ NetworkObject ç»„ä»¶æ­£ç¡®é…ç½®
3. **åœºæ™¯å¼•ç”¨**ï¼šç§»æ¤åéœ€è¦æ›´æ–° Build Settings ä¸­çš„åœºæ™¯å¼•ç”¨
4. **é¢„åˆ¶ä»¶è¿æ¥**ï¼šç¡®ä¿æ‰€æœ‰é¢„åˆ¶ä»¶å¼•ç”¨åœ¨æ–°åœºæ™¯ä¸­æ­£ç¡®è¿æ¥
5. **éŸ³é¢‘æ··åˆå™¨**ï¼šéªŒè¯éŸ³é¢‘æ··åˆå™¨èµ„æºåœ¨é¡¹ç›®ä¸­å­˜åœ¨ä¸”æ­£ç¡®å¼•ç”¨

## ğŸ“‹ ç§»æ¤åçš„ä¼˜åŠ¿

1. **ä¸°å¯Œçš„ç¯å¢ƒ**ï¼šä½“è‚²é¦†æä¾›æ›´çœŸå®çš„ä¹’ä¹“çƒæ¸¸æˆç¯å¢ƒ
2. **ä¿ç•™åŠŸèƒ½**ï¼šArena ä¸­çš„æ‰€æœ‰æ¸¸æˆé€»è¾‘å’Œ UI åŠŸèƒ½å®Œæ•´ä¿ç•™
3. **æ€§èƒ½ä¼˜åŒ–**ï¼šé€šè¿‡é‡ç»„è·å¾—æ›´å¥½çš„æ€§èƒ½è¡¨ç°
4. **ç»´æŠ¤æ€§**ï¼šæ¸…æ™°çš„ç»„ç»‡ç»“æ„ä¾¿äºåç»­å¼€å‘å’Œç»´æŠ¤
